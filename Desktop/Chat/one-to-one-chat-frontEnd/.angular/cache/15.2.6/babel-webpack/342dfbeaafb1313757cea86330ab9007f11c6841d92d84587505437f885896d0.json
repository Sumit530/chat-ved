{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/chat/chat.service\";\nexport class AppComponent {\n  constructor(chatService) {\n    this.chatService = chatService;\n    this.messageArray = [];\n    this.userList = [{\n      id: 1,\n      name: 'John Doe',\n      phone: '9856585858',\n      roomId: {\n        2: 'room-1',\n        3: 'room-2',\n        4: 'room-3'\n      }\n    }, {\n      id: 2,\n      name: 'Swagger Sharma',\n      phone: '9856585444',\n      roomId: {\n        1: 'room-1',\n        3: 'room-4',\n        4: 'room-5'\n      }\n    }, {\n      id: 3,\n      name: 'Test User 1',\n      phone: '6565555585',\n      roomId: {\n        1: 'room-2',\n        2: 'room-4',\n        4: 'room-6'\n      }\n    }, {\n      id: 4,\n      name: 'Test User 2',\n      phone: '9956588544',\n      roomId: {\n        1: 'room-3',\n        2: 'room-5',\n        4: 'room-6'\n      }\n    }];\n    this.chatService.getMessage().subscribe(data => {\n      this.messageArray.push(data);\n      console.log(data);\n      debugger;\n    });\n  }\n  ngOnInit() {\n    this.currentUser = this.userList[2];\n  }\n  selectUserHandler(phone) {\n    this.selectedUser = this.userList.find(user => user.phone === phone);\n    this.roomId = this.selectedUser.roomId[this.selectedUser.id];\n    this.messageArray = [];\n    this.join(this.currentUser.name, this.roomId);\n  }\n  join(username, roomId) {\n    this.chatService.joinRoom({\n      user: username,\n      roomId: roomId\n    });\n  }\n  sendMessage() {\n    this.chatService.sendMessage({\n      data: this.currentUser.name,\n      room: this.roomId,\n      message: this.messageText\n    });\n    this.messageText = '';\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.ChatService));\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 4,\n  vars: 0,\n  consts: [[1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-4\"], [1, \"user-list-card\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵelement(3, \"div\", 3);\n      i0.ɵɵelementEnd()()();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;AAQA,OAAM,MAAOA,YAAY;EAoDvBC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAjDxB,iBAAY,GAAwC,EAAE;IAMtD,aAAQ,GAAG,CAChB;MACEC,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,UAAU;MAChBC,KAAK,EAAE,YAAY;MACnBC,MAAM,EAAE;QACN,CAAC,EAAE,QAAQ;QACX,CAAC,EAAE,QAAQ;QACX,CAAC,EAAE;;KAEN,EACD;MACEH,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,gBAAgB;MACtBC,KAAK,EAAE,YAAY;MACnBC,MAAM,EAAE;QACN,CAAC,EAAE,QAAQ;QACX,CAAC,EAAE,QAAQ;QACX,CAAC,EAAE;;KAEN,EACD;MACEH,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,aAAa;MACnBC,KAAK,EAAE,YAAY;MACnBC,MAAM,EAAE;QACN,CAAC,EAAE,QAAQ;QACX,CAAC,EAAE,QAAQ;QACX,CAAC,EAAE;;KAEN,EACD;MACEH,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,aAAa;MACnBC,KAAK,EAAE,YAAY;MACnBC,MAAM,EAAE;QACN,CAAC,EAAE,QAAQ;QACX,CAAC,EAAE,QAAQ;QACX,CAAC,EAAE;;KAEN,CACF;IAGC,IAAI,CAACJ,WAAW,CACbK,UAAU,EAAE,CACZC,SAAS,CAAEC,IAAuC,IAAI;MACrD,IAAI,CAACC,YAAY,CAACC,IAAI,CAACF,IAAI,CAAC;MAC5BG,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC;MACjB;IACF,CAAC,CAAC;EACN;EAEAK,QAAQ;IACN,IAAI,CAACC,WAAW,GAAG,IAAI,CAACC,QAAQ,CAAC,CAAC,CAAC;EACrC;EAEAC,iBAAiB,CAACZ,KAAa;IAC7B,IAAI,CAACa,YAAY,GAAG,IAAI,CAACF,QAAQ,CAACG,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACf,KAAK,KAAKA,KAAK,CAAC;IACtE,IAAI,CAACC,MAAM,GAAG,IAAI,CAACY,YAAY,CAACZ,MAAM,CAAC,IAAI,CAACY,YAAY,CAACf,EAAE,CAAC;IAC5D,IAAI,CAACO,YAAY,GAAG,EAAE;IAEtB,IAAI,CAACW,IAAI,CAAC,IAAI,CAACN,WAAW,CAACX,IAAI,EAAE,IAAI,CAACE,MAAM,CAAC;EAC/C;EAEAe,IAAI,CAACC,QAAgB,EAAEhB,MAAc;IACnC,IAAI,CAACJ,WAAW,CAACqB,QAAQ,CAAC;MAAEH,IAAI,EAAEE,QAAQ;MAAEhB,MAAM,EAAEA;IAAM,CAAE,CAAC;EAC/D;EAEAkB,WAAW;IACT,IAAI,CAACtB,WAAW,CAACsB,WAAW,CAAC;MAC3Bf,IAAI,EAAE,IAAI,CAACM,WAAW,CAACX,IAAI;MAC3BqB,IAAI,EAAE,IAAI,CAACnB,MAAM;MACjBoB,OAAO,EAAE,IAAI,CAACC;KACf,CAAC;IAEF,IAAI,CAACA,WAAW,GAAG,EAAE;EACvB;;AAtFW3B,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;QAAZA,YAAY;EAAA4B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCRzBC,8BAA6B;MAGjBA,yBAIM;MACVA,iBAAM","names":["AppComponent","constructor","chatService","id","name","phone","roomId","getMessage","subscribe","data","messageArray","push","console","log","ngOnInit","currentUser","userList","selectUserHandler","selectedUser","find","user","join","username","joinRoom","sendMessage","room","message","messageText","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["D:\\Ved\\Socket\\one-to-one-chat-frontEnd\\src\\app\\app.component.ts","D:\\Ved\\Socket\\one-to-one-chat-frontEnd\\src\\app\\app.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ChatService } from './services/chat/chat.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n})\nexport class AppComponent implements OnInit {\n  public roomId: string;\n  public messageText: string;\n  public messageArray: { user: string; message: string }[] = [];\n\n  public phone: string;\n  public currentUser;\n  public selectedUser;\n\n  public userList = [\n    {\n      id: 1,\n      name: 'John Doe',\n      phone: '9856585858',\n      roomId: {\n        2: 'room-1',\n        3: 'room-2',\n        4: 'room-3',\n      },\n    },\n    {\n      id: 2,\n      name: 'Swagger Sharma',\n      phone: '9856585444',\n      roomId: {\n        1: 'room-1',\n        3: 'room-4',\n        4: 'room-5',\n      },\n    },\n    {\n      id: 3,\n      name: 'Test User 1',\n      phone: '6565555585',\n      roomId: {\n        1: 'room-2',\n        2: 'room-4',\n        4: 'room-6',\n      },\n    },\n    {\n      id: 4,\n      name: 'Test User 2',\n      phone: '9956588544',\n      roomId: {\n        1: 'room-3',\n        2: 'room-5',\n        4: 'room-6',\n      },\n    },\n  ];\n\n  constructor(private chatService: ChatService) {\n    this.chatService\n      .getMessage()\n      .subscribe((data: { user: string; message: string }) => {\n        this.messageArray.push(data);\n        console.log(data)\n        debugger;\n      });\n  }\n\n  ngOnInit(): void {\n    this.currentUser = this.userList[2];\n  }\n\n  selectUserHandler(phone: string): void {\n    this.selectedUser = this.userList.find((user) => user.phone === phone);\n    this.roomId = this.selectedUser.roomId[this.selectedUser.id];\n    this.messageArray = [];\n\n    this.join(this.currentUser.name, this.roomId);\n  }\n\n  join(username: string, roomId: string): void {\n    this.chatService.joinRoom({ user: username, roomId: roomId });\n  }\n\n  sendMessage() {\n    this.chatService.sendMessage({\n      data: this.currentUser.name,\n      room: this.roomId,\n      message: this.messageText,\n    });\n\n    this.messageText = '';\n  }\n}\n","<div class=\"container-fluid\">\n    <div class=\"row\">\n        <div class=\"col-md-4\">\n            <div class=\"user-list-card\">\n\n\n\n            </div>\n        </div>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}